<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="バーチャ農ちゃんねるの動画概要から集約したノウハウを基に、MEMSマイク自作・DCプリアンプ設計、JFET差動回路、高調波歪測定、LTspiceシミュレーション、ロックインアンプ修理・メンテナンス、AIツール活用など、DIYオーディオエンジニアリングの技術情報を日本語で詳しく解説。">
    <meta name="keywords" content="MEMSマイク, プリアンプ, DCアンプ, 歪率測定, LTspice, JFET回路, ロックインアンプ, AI音楽生成, DIYオーディオ">
    <meta name="author" content="バーチャ農ちゃんねる">
    <title>ユニバーサルDIYサウンドガイド：Cloud Lab版 ～クラウドで繋がる部品と知見のオーディオ実験ネットワーク～</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- ヘッダー -->
    <header>
        <div class="container">
            <h1>ユニバーサルDIYサウンドガイド：Cloud Lab版<br>～クラウドで繋がる部品と知見のオーディオ実験ネットワーク～</h1>
            <nav>
                <ul>
                    <li><a href="#home">ホーム</a></li>
                    <li><a href="#projects">動画ギャラリー</a></li>
                    <li><a href="#categories">カテゴリー</a></li>
                    <li><a href="#resources">リソース</a></li>
                    <li><a href="lna01.html">低ノイズアンプ LNA-01</a></li>
                    <!-- LTSpice JFETモデルシミュレータへのリンクを追加 -->
                    <li><a href="https://spice-model-manager-72390409021.asia-northeast2.run.app/" target="_blank">LTSpice JFETモデルシミュレータ</a></li>
                    <li><a href="https://github.com/youtube-at-vach/audio_tools" target="_blank">オーディオ測定用プログラム (GitHub)</a></li>
                    <li><a href="#contact">お問い合わせ</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- メインコンテンツ -->
    <main class="container">
        <!-- ヒーローイメージ -->
        <div class="hero-container">
            <img src="images/hero.png" alt="ロボットと少年がマイク回路を調整するイラスト" class="hero-image">
        </div>
        <section id="home">
            <h2>DIYオーディオエンジニアリング &amp; MEMSマイク自作ガイドへようこそ</h2>
            <p>バーチャ農ちゃんねるのYouTube動画概要から集約されたノウハウをもとに、MEMSマイクのDCプリアンプ設計・低ノイズ化、JFET差動回路、高調波歪率測定、LTspiceシミュレーション、ロックインアンプ修理・メンテナンス、AIツール活用など、幅広いDIYオーディオ技術を日本語で詳しく解説します。</p>
        </section>
        <!-- LTSpice JFETモデルシミュレータ セクション -->
        <section id="simulator">
            <h2>LTSpice JFETモデルシミュレータ</h2>
            <p>シミュレーション用JFETモデルを管理・編集できるオンラインツールです。自作回路のシミュレーションにお役立てください。</p>
            <a href="https://spice-model-manager-72390409021.asia-northeast2.run.app/" target="_blank" rel="noopener">
                <img src="images/spicemodel1.png" alt="LTSpice JFETモデルシミュレータ" class="simulator-image">
            </a>
        </section>
        <section id="projects">
            <h2>動画ギャラリー</h2>
            <ul id="projects-list">
                <li>読み込み中…</li>
            </ul>
        </section>
        <section id="categories">
            <h2>カテゴリー</h2>
            <ul>
                <li>MEMSマイク設計・低ノイズ化</li>
                <li>プリアンプ回路（JFET選定・DC化・歪率測定）</li>
                <li>音質測定＆解析（REW・UAC‑232・HP355D等）</li>
                <li>回路シミュレーション（LTspiceファイル公開）</li>
                <li>DIY修理（電源装置メンテナンス）</li>
                <li>AIクリエイティブ（音楽生成ワークショップ）</li>
            </ul>
        </section>
        <section id="resources">
            <h2>リソース／ダウンロード</h2>
            <p>以下のリソース一覧ページより、各ファイルをダウンロードできます。</p>
            <a href="resources.html" class="button">リソース一覧ページ</a>
        </section>
        <section id="ai-articles">
            <h2>AIによる調査記事</h2>
            <ul id="ai-articles-list">
                <li>読み込み中…</li>
            </ul>
            <div id="ai-article-detail" class="ai-article-detail" style="display:none;">
                <h3 id="ai-article-title"></h3>
                <div id="ai-article-content"></div>
            </div>
        </section>
        <section id="contact">
            <h2>YouTubeチャンネル＆お問い合わせ</h2>
            <p>最新動画はYouTubeで随時公開中！チャンネル登録＆通知オンで新着を見逃さずチェックしてください。ご質問・ご要望はコメント欄またはサイト下部のお問い合わせフォームからお気軽にどうぞ。</p>
            <a href="https://www.youtube.com/@va-ch" target="_blank" class="button">YouTubeチャンネルへ移動</a>
        </section>
    </main>

    <!-- フッター -->
    <footer>
        <div class="container">
            <p>© 2025 バーチャ農ちゃんねる. All Rights Reserved.</p>
            <p><small>このHPはAI (OpenAI Codex CLI) によって編集され、約5分で作成されました。</small></p>
            <!-- Generated by Codex CLI -->
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function() {
        var container = document.getElementById('projects-list');
        container.innerHTML = '<li>読み込み中…</li>';
        Promise.all([
          fetch('data/videos.json').then(function(res) { return res.json(); }),
          fetch('data/playlists.json').then(function(res) { return res.json(); }),
          fetch('data/videoExcludes.json').then(function(res) { return res.json(); })
        ])
        .then(function(results) {
          var videos = results[0];
          var playlists = results[1];
          var excludes = results[2];
          var excludeSet = new Set(excludes);
          var used = new Set();
          var playlistHtml = '';

          // シリーズ（プレイリスト）ごとに動画を表示
          playlists.forEach(function(pl) {
            var vids = videos.filter(function(v) {
              return pl.videoIds.includes(v.id) && !excludeSet.has(v.id);
            });
            if (vids.length === 0) return;
            playlistHtml += '<li class="playlist-group"><h3>' + pl.title + '</h3><div class="thumbnails">';
            vids.forEach(function(video) {
              var thumbUrl = (video.thumbnails && video.thumbnails.medium && video.thumbnails.medium.url)
                || (video.thumbnails && video.thumbnails.default && video.thumbnails.default.url) || '';
              var titleEsc = video.title.replace(/"/g, '&quot;');
              var categoryEsc = (video.category || '').replace(/&/g, '&amp;')
                .replace(/"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
              playlistHtml += '<a href="' + video.url + '" target="_blank" class="thumb" title="' + titleEsc + '">';
              playlistHtml += '<img src="' + thumbUrl + '" alt="' + titleEsc + '">';
              playlistHtml += '<div class="overlay">';
              playlistHtml += '<span class="category-tag">' + categoryEsc + '</span>';
              playlistHtml += '<p class="video-title">' + titleEsc + '</p>';
              playlistHtml += '</div>';
              playlistHtml += '</a>';
            });
            playlistHtml += '</div></li>';
            vids.forEach(function(v) { used.add(v.id); });
          });

          // フィルタリング: 除外リストおよびプレイリストで既出の動画を除外
          var filtered = videos.filter(function(v) {
            return !excludeSet.has(v.id) && !used.has(v.id);
          });
          // 年月ごとにグループ化
          var groups = {};
          filtered.forEach(function(video) {
            var d = new Date(video.publishedAt);
            if (isNaN(d)) return;
            var year = d.getFullYear();
            var month = ('0' + (d.getMonth() + 1)).slice(-2);
            var key = year + '年' + month + '月';
            if (!groups[key]) groups[key] = [];
            groups[key].push(video);
          });
          var keys = Object.keys(groups).sort().reverse();
          // HTML 作成（年月別）
          var monthHtml = '';
          keys.forEach(function(key) {
            monthHtml += '<li class="month-group"><h3>' + key + '</h3><div class="thumbnails">';
            groups[key].forEach(function(video) {
              var thumbUrl = (video.thumbnails && video.thumbnails.medium && video.thumbnails.medium.url)
                || (video.thumbnails && video.thumbnails.default && video.thumbnails.default.url) || '';
              var titleEsc = video.title.replace(/"/g, '&quot;');
              var categoryEsc = (video.category || '').replace(/&/g, '&amp;')
                .replace(/"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
              monthHtml += '<a href="' + video.url + '" target="_blank" class="thumb" title="' + titleEsc + '">';
              monthHtml += '<img src="' + thumbUrl + '" alt="' + titleEsc + '">';
              monthHtml += '<div class="overlay">';
              monthHtml += '<span class="category-tag">' + categoryEsc + '</span>';
              monthHtml += '<p class="video-title">' + titleEsc + '</p>';
              monthHtml += '</div>';
              monthHtml += '</a>';
            });
            monthHtml += '</div></li>';
          });
          var fullHtml = playlistHtml + monthHtml;
          container.innerHTML = fullHtml || '<li>該当する動画がありません。</li>';
        })
        .catch(function(err) {
          container.innerHTML = '<li>読み込みに失敗しました。</li>';
          console.error(err);
        });
        // AIによる調査記事一覧表示
        var aiContainer = document.getElementById('ai-articles-list');
        aiContainer.innerHTML = '<li>読み込み中…</li>';
        // 記事詳細エリア要素
        var detailArea = document.getElementById('ai-article-detail');
        var titleElem = document.getElementById('ai-article-title');
        var contentArea = document.getElementById('ai-article-content');
        fetch('data/index.json')
          .then(function(res) { return res.json(); })
          .then(function(list) {
            if (!list || !list.length) {
              aiContainer.innerHTML = '<li>記事がありません。</li>';
              return;
            }
            var html = '';
            list.forEach(function(item) {
              var titleEsc = item.title.replace(/"/g, '&quot;')
                .replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');
              html += '<li><a href="#" data-url="' + item.url + '">' + titleEsc + '</a></li>';
            });
            aiContainer.innerHTML = html;
            aiContainer.querySelectorAll('a').forEach(function(a) {
              a.addEventListener('click', function(e) {
                e.preventDefault();
                var url = a.getAttribute('data-url');
                fetch(url)
                  .then(function(res) { return res.text(); })
                  .then(function(md) {
                    // タイトルと内容を表示
                    titleElem.textContent = a.textContent;
                    contentArea.innerHTML = (marked.parse || marked)(md);
                    detailArea.style.display = 'block';
                  })
                  .catch(function(err) { console.error(err); });
              });
            });
          })
          .catch(function(err) {
            aiContainer.innerHTML = '<li>読み込みに失敗しました。</li>';
            console.error(err);
          });
      });
    </script>
</body>
</html>
